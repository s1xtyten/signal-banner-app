(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))o(i);new MutationObserver(i=>{for(const r of i)if(r.type==="childList")for(const l of r.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&o(l)}).observe(document,{childList:!0,subtree:!0});function n(i){const r={};return i.integrity&&(r.integrity=i.integrity),i.referrerPolicy&&(r.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?r.credentials="include":i.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function o(i){if(i.ep)return;i.ep=!0;const r=n(i);fetch(i.href,r)}})();function U(){}function Ke(t){return t()}function qe(){return Object.create(null)}function Q(t){t.forEach(Ke)}function Qe(t){return typeof t=="function"}function ee(t,e){return t!=t?e==e:t!==e||t&&typeof t=="object"||typeof t=="function"}let ye;function ue(t,e){return ye||(ye=document.createElement("a")),ye.href=e,t===ye.href}function ct(t){return Object.keys(t).length===0}function ut(t,...e){if(t==null)return U;const n=t.subscribe(...e);return n.unsubscribe?()=>n.unsubscribe():n}function ft(t,e,n){t.$$.on_destroy.push(ut(e,n))}const dt=typeof window<"u"?window:typeof globalThis<"u"?globalThis:global;function m(t,e){t.appendChild(e)}function L(t,e,n){t.insertBefore(e,n||null)}function A(t){t.parentNode&&t.parentNode.removeChild(t)}function h(t){return document.createElement(t)}function Se(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function K(t){return document.createTextNode(t)}function M(){return K(" ")}function O(t,e,n,o){return t.addEventListener(e,n,o),()=>t.removeEventListener(e,n,o)}function Ae(t){return function(e){return e.preventDefault(),t.call(this,e)}}function c(t,e,n){n==null?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function Te(t){return t===""?null:+t}function mt(t){return Array.from(t.childNodes)}function ke(t,e){e=""+e,t.data!==e&&(t.data=e)}function xe(t,e){t.value=e??""}function N(t,e,n,o){n==null?t.style.removeProperty(e):t.style.setProperty(e,n,o?"important":"")}function ae(t,e,n){t.classList[n?"add":"remove"](e)}function ht(t,e,{bubbles:n=!1,cancelable:o=!1}={}){const i=document.createEvent("CustomEvent");return i.initCustomEvent(t,n,o,e),i}let ge;function pe(t){ge=t}function Ue(){if(!ge)throw new Error("Function called outside component initialization");return ge}function pt(t){Ue().$$.on_mount.push(t)}function gt(t){Ue().$$.on_destroy.push(t)}function Ce(){const t=Ue();return(e,n,{cancelable:o=!1}={})=>{const i=t.$$.callbacks[e];if(i){const r=ht(e,n,{cancelable:o});return i.slice().forEach(l=>{l.call(t,r)}),!r.defaultPrevented}return!0}}const se=[],oe=[];let ce=[];const Ie=[],bt=Promise.resolve();let Ze=!1;function _t(){Ze||(Ze=!0,bt.then($e))}function He(t){ce.push(t)}function Be(t){Ie.push(t)}const Me=new Set;let re=0;function $e(){if(re!==0)return;const t=ge;do{try{for(;re<se.length;){const e=se[re];re++,pe(e),wt(e.$$)}}catch(e){throw se.length=0,re=0,e}for(pe(null),se.length=0,re=0;oe.length;)oe.pop()();for(let e=0;e<ce.length;e+=1){const n=ce[e];Me.has(n)||(Me.add(n),n())}ce.length=0}while(se.length);for(;Ie.length;)Ie.pop()();Ze=!1,Me.clear(),pe(t)}function wt(t){if(t.fragment!==null){t.update(),Q(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(He)}}function yt(t){const e=[],n=[];ce.forEach(o=>t.indexOf(o)===-1?e.push(o):n.push(o)),n.forEach(o=>o()),ce=e}const ve=new Set;let ne;function De(){ne={r:0,c:[],p:ne}}function Oe(){ne.r||Q(ne.c),ne=ne.p}function Y(t,e){t&&t.i&&(ve.delete(t),t.i(e))}function V(t,e,n,o){if(t&&t.o){if(ve.has(t))return;ve.add(t),ne.c.push(()=>{ve.delete(t),o&&(n&&t.d(1),o())}),t.o(e)}else o&&o()}function Ne(t,e,n){const o=t.$$.props[e];o!==void 0&&(t.$$.bound[o]=n,n(t.$$.ctx[o]))}function be(t){t&&t.c()}function fe(t,e,n,o){const{fragment:i,after_update:r}=t.$$;i&&i.m(e,n),o||He(()=>{const l=t.$$.on_mount.map(Ke).filter(Qe);t.$$.on_destroy?t.$$.on_destroy.push(...l):Q(l),t.$$.on_mount=[]}),r.forEach(He)}function de(t,e){const n=t.$$;n.fragment!==null&&(yt(n.after_update),Q(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function vt(t,e){t.$$.dirty[0]===-1&&(se.push(t),_t(),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function me(t,e,n,o,i,r,l,s=[-1]){const f=ge;pe(t);const a=t.$$={fragment:null,ctx:[],props:r,update:U,not_equal:i,bound:qe(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(f?f.$$.context:[])),callbacks:qe(),dirty:s,skip_bound:!1,root:e.target||f.$$.root};l&&l(a.root);let _=!1;if(a.ctx=n?n(t,e.props||{},(w,v,...y)=>{const u=y.length?y[0]:v;return a.ctx&&i(a.ctx[w],a.ctx[w]=u)&&(!a.skip_bound&&a.bound[w]&&a.bound[w](u),_&&vt(t,w)),v}):[],a.update(),_=!0,Q(a.before_update),a.fragment=o?o(a.ctx):!1,e.target){if(e.hydrate){const w=mt(e.target);a.fragment&&a.fragment.l(w),w.forEach(A)}else a.fragment&&a.fragment.c();e.intro&&Y(t.$$.fragment),fe(t,e.target,e.anchor,e.customElement),$e()}pe(f)}class he{$destroy(){de(this,1),this.$destroy=U}$on(e,n){if(!Qe(n))return U;const o=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return o.push(n),()=>{const i=o.indexOf(n);i!==-1&&o.splice(i,1)}}$set(e){this.$$set&&!ct(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}function xt(t){let e,n,o,i,r,l;return{c(){e=h("div"),n=h("div"),o=h("a"),i=K(t[0]),r=M(),l=h("div"),l.innerHTML=`<label class="swap swap-rotate"><input type="checkbox" data-toggle-theme="light,dark"/> 
            <svg class="swap-on fill-current w-6 h-6" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M5.64,17l-.71.71a1,1,0,0,0,0,1.41,1,1,0,0,0,1.41,0l.71-.71A1,1,0,0,0,5.64,17ZM5,12a1,1,0,0,0-1-1H3a1,1,0,0,0,0,2H4A1,1,0,0,0,5,12Zm7-7a1,1,0,0,0,1-1V3a1,1,0,0,0-2,0V4A1,1,0,0,0,12,5ZM5.64,7.05a1,1,0,0,0,.7.29,1,1,0,0,0,.71-.29,1,1,0,0,0,0-1.41l-.71-.71A1,1,0,0,0,4.93,6.34Zm12,.29a1,1,0,0,0,.7-.29l.71-.71a1,1,0,1,0-1.41-1.41L17,5.64a1,1,0,0,0,0,1.41A1,1,0,0,0,17.66,7.34ZM21,11H20a1,1,0,0,0,0,2h1a1,1,0,0,0,0-2Zm-9,8a1,1,0,0,0-1,1v1a1,1,0,0,0,2,0V20A1,1,0,0,0,12,19ZM18.36,17A1,1,0,0,0,17,18.36l.71.71a1,1,0,0,0,1.41,0,1,1,0,0,0,0-1.41ZM12,6.5A5.5,5.5,0,1,0,17.5,12,5.51,5.51,0,0,0,12,6.5Zm0,9A3.5,3.5,0,1,1,15.5,12,3.5,3.5,0,0,1,12,15.5Z"></path></svg> 
            <svg class="swap-off fill-current w-6 h-6" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M21.64,13a1,1,0,0,0-1.05-.14,8.05,8.05,0,0,1-3.37.73A8.15,8.15,0,0,1,9.08,5.49a8.59,8.59,0,0,1,.25-2A1,1,0,0,0,8,2.36,10.14,10.14,0,1,0,22,14.05,1,1,0,0,0,21.64,13Zm-9.5,6.69A8.14,8.14,0,0,1,7.08,5.22v.27A10.15,10.15,0,0,0,17.22,15.63a9.79,9.79,0,0,0,2.1-.22A8.11,8.11,0,0,1,12.14,19.73Z"></path></svg></label>`,c(o,"class","btn btn-ghost normal-case text-xl"),c(n,"class","flex"),c(l,"class","flex-none"),c(e,"class","navbar bg-base-100 shadow-lg rounded-box mb-4")},m(s,f){L(s,e,f),m(e,n),m(n,o),m(o,i),m(e,r),m(e,l)},p(s,[f]){f&1&&ke(i,s[0])},i:U,o:U,d(s){s&&A(e)}}}function kt(t,e,n){let{title:o="Image Banner App"}=e;return t.$$set=i=>{"title"in i&&n(0,o=i.title)},[o]}class Ct extends he{constructor(e){super(),me(this,e,kt,xt,ee,{title:0})}}function Et(t){let e,n,o,i,r,l;return{c(){e=h("div"),n=h("label"),n.innerHTML='<span class="label-text">Choose an image file</span>',o=M(),i=h("input"),c(n,"class","label"),c(i,"type","file"),c(i,"class","file-input file-input-bordered file-input-primary w-full"),c(i,"accept","image/*"),c(e,"class","form-control w-full")},m(s,f){L(s,e,f),m(e,n),m(e,o),m(e,i),t[2](i),r||(l=O(i,"change",t[1]),r=!0)},p:U,i:U,o:U,d(s){s&&A(e),t[2](null),r=!1,l()}}}function Pt(t,e,n){const o=Ce();let i;function r(){const s=i.files[0];if(!s)return;if(!s.type.startsWith("image/")){o("error","Please select an image file.");return}const f=new FileReader;f.onload=a=>{o("fileSelected",{file:s,previewUrl:a.target.result}),console.log(previewUrl)},f.readAsDataURL(s)}function l(s){oe[s?"unshift":"push"](()=>{i=s,n(0,i)})}return[i,r,l]}class At extends he{constructor(e){super(),me(this,e,Pt,Et,ee,{})}}function We(t,e,n){return t>=e*n?{width:e*n,height:e}:{width:t,height:t/n}}function Le(t,e,n,o){return{x:Fe(t.x,e.width,n.width,o),y:Fe(t.y,e.height,n.height,o)}}function Fe(t,e,n,o){let i=e*o/2-n/2;return o<1&&(i=n/2-e*o/2),Math.min(i,Math.max(t,-i))}function Ye(t,e){return Math.sqrt(Math.pow(t.y-e.y,2)+Math.pow(t.x-e.x,2))}function Mt(t,e,n,o,i,r=!0){const l=r?Lt:It,s={x:l(100,((e.width-n.width/i)/2-t.x/i)/e.width*100),y:l(100,((e.height-n.height/i)/2-t.y/i)/e.height*100),width:l(100,n.width/e.width*100/i),height:l(100,n.height/e.height*100/i)},f=l(e.naturalWidth,s.width*e.naturalWidth/100,!0),a=l(e.naturalHeight,s.height*e.naturalHeight/100,!0),w=e.naturalWidth>=e.naturalHeight*o?{width:Math.round(a*o),height:a}:{width:f,height:Math.round(f/o)},v={...w,x:l(e.naturalWidth-w.width,s.x*e.naturalWidth/100,!0),y:l(e.naturalHeight-w.height,s.y*e.naturalHeight/100,!0)};return{croppedAreaPercentages:s,croppedAreaPixels:v}}function Lt(t,e,n=!1){const o=n?Math.round(e):e;return Math.min(t,Math.max(0,o))}function It(t,e){return e}function Re(t,e){return{x:(e.x+t.x)/2,y:(e.y+t.y)/2}}const{window:Zt}=dt;function Ge(t){let e;return{c(){e=h("div"),c(e,"class","svelte-easy-crop-area svelte-16jq1sj"),N(e,"width",t[8].width+"px"),N(e,"height",t[8].height+"px"),c(e,"data-testid","cropper"),ae(e,"svelte-easy-crop-round",t[3]==="round"),ae(e,"svelte-easy-crop-grid",t[4])},m(n,o){L(n,e,o)},p(n,o){o[0]&256&&N(e,"width",n[8].width+"px"),o[0]&256&&N(e,"height",n[8].height+"px"),o[0]&8&&ae(e,"svelte-easy-crop-round",n[3]==="round"),o[0]&16&&ae(e,"svelte-easy-crop-grid",n[4])},d(n){n&&A(e)}}}function Ht(t){let e,n,o,i,r,l,s=t[8]&&Ge(t);return{c(){e=h("div"),n=h("img"),i=M(),s&&s.c(),c(n,"class","svelte-easy-crop-image svelte-16jq1sj"),ue(n.src,o=t[2])||c(n,"src",o),c(n,"alt",""),N(n,"transform","translate("+t[1].x+"px, "+t[1].y+"px) scale("+t[0]+")"),c(n,"crossorigin",t[5]),c(e,"class","svelte-easy-crop-container svelte-16jq1sj"),c(e,"tabindex",t[6]),c(e,"role","button"),c(e,"data-testid","container")},m(f,a){L(f,e,a),m(e,n),t[21](n),m(e,i),s&&s.m(e,null),t[22](e),r||(l=[O(Zt,"resize",t[11]),O(n,"load",t[10]),O(e,"mousedown",Ae(t[12])),O(e,"touchstart",Ae(t[13]),{passive:!1}),O(e,"wheel",Ae(t[14]),{passive:!1})],r=!0)},p(f,a){a[0]&4&&!ue(n.src,o=f[2])&&c(n,"src",o),a[0]&3&&N(n,"transform","translate("+f[1].x+"px, "+f[1].y+"px) scale("+f[0]+")"),a[0]&32&&c(n,"crossorigin",f[5]),f[8]?s?s.p(f,a):(s=Ge(f),s.c(),s.m(e,null)):s&&(s.d(1),s=null),a[0]&64&&c(e,"tabindex",f[6])},i:U,o:U,d(f){f&&A(e),t[21](null),s&&s.d(),t[22](null),r=!1,Q(l)}}}function Dt(t,e,n){let{image:o}=e,{crop:i={x:0,y:0}}=e,{zoom:r=1}=e,{aspect:l=4/3}=e,{minZoom:s=1}=e,{maxZoom:f=3}=e,{cropSize:a=null}=e,{cropShape:_="rect"}=e,{showGrid:w=!0}=e,{zoomSpeed:v=1}=e,{crossOrigin:y=null}=e,{restrictPosition:u=!0}=e,{tabindex:g=void 0}=e,b=null,E={width:0,height:0,naturalWidth:0,naturalHeight:0},p=null,I=null,k=null,T={x:0,y:0},P={x:0,y:0},Z=0,W=null,B=null;const G=Ce();pt(()=>{k&&k.complete&&z(),p&&(p.addEventListener("gesturestart",X),p.addEventListener("gesturechange",X))}),gt(()=>{p&&(p.removeEventListener("gesturestart",X),p.removeEventListener("gesturechange",X)),C()});const X=d=>d.preventDefault(),C=()=>{typeof document<"u"&&(document.removeEventListener("mousemove",x),document.removeEventListener("mouseup",_e),document.removeEventListener("touchmove",ie),document.removeEventListener("touchend",_e))},z=()=>{F(),we()},j=()=>a?a.width/a.height:l,F=()=>{k&&(E={width:k.width,height:k.height,naturalWidth:k.naturalWidth,naturalHeight:k.naturalHeight},n(8,b=a||We(k.width,k.height,l))),p&&(I=p.getBoundingClientRect())},J=d=>({x:Number(d.clientX),y:Number(d.clientY)}),q=d=>({x:Number(d.clientX),y:Number(d.clientY)}),R=d=>{document.addEventListener("mousemove",x),document.addEventListener("mouseup",_e),Ee(J(d))},x=d=>Pe(J(d)),D=d=>{document.addEventListener("touchmove",ie,{passive:!1}),document.addEventListener("touchend",_e),d.touches.length===2?tt(d):d.touches.length===1&&Ee(q(d.touches[0]))},ie=d=>{d.preventDefault(),d.touches.length===2?nt(d):d.touches.length===1&&Pe(q(d.touches[0]))},Ee=({x:d,y:H})=>{T={x:d,y:H},P={x:i.x,y:i.y}},Pe=({x:d,y:H})=>{W&&window.cancelAnimationFrame(W),W=window.requestAnimationFrame(()=>{if(d===void 0||H===void 0||!b)return;const S=d-T.x,te=H-T.y,$={x:P.x+S,y:P.y+te};n(1,i=u?Le($,E,b,r):$)})},_e=()=>{C(),we()},tt=d=>{const H=q(d.touches[0]),S=q(d.touches[1]);Z=Ye(H,S),Ee(Re(H,S))},nt=d=>{const H=q(d.touches[0]),S=q(d.touches[1]),te=Re(H,S);Pe(te),B&&window.cancelAnimationFrame(B),B=window.requestAnimationFrame(()=>{const $=Ye(H,S),at=r*($/Z);je(at,te),Z=$})},ot=d=>{const H=J(d),S=r-d.deltaY*v/200;je(S,H)},it=({x:d,y:H})=>{if(!I)throw new Error("The Cropper is not mounted");return{x:I.width/2-(d-I.left),y:I.height/2-(H-I.top)}},rt=({x:d,y:H})=>({x:(d+i.x)/r,y:(H+i.y)/r}),je=(d,H)=>{if(!b)return;const S=it(H),te=rt(S);n(0,r=Math.min(f,Math.max(d,s)));const $={x:te.x*r-S.x,y:te.y*r-S.y};n(1,i=u?Le($,E,b,r):$)},we=()=>{if(!b||b.width===0)return;const d=u?Le(i,E,b,r):i,{croppedAreaPercentages:H,croppedAreaPixels:S}=Mt(d,E,b,j(),r,u);G("cropcomplete",{percent:H,pixels:S})};function lt(d){oe[d?"unshift":"push"](()=>{k=d,n(7,k)})}function st(d){oe[d?"unshift":"push"](()=>{p=d,n(9,p)})}return t.$$set=d=>{"image"in d&&n(2,o=d.image),"crop"in d&&n(1,i=d.crop),"zoom"in d&&n(0,r=d.zoom),"aspect"in d&&n(15,l=d.aspect),"minZoom"in d&&n(16,s=d.minZoom),"maxZoom"in d&&n(17,f=d.maxZoom),"cropSize"in d&&n(18,a=d.cropSize),"cropShape"in d&&n(3,_=d.cropShape),"showGrid"in d&&n(4,w=d.showGrid),"zoomSpeed"in d&&n(19,v=d.zoomSpeed),"crossOrigin"in d&&n(5,y=d.crossOrigin),"restrictPosition"in d&&n(20,u=d.restrictPosition),"tabindex"in d&&n(6,g=d.tabindex)},t.$$.update=()=>{t.$$.dirty[0]&295040&&k&&n(8,b=a||We(k.width,k.height,l)),t.$$.dirty[0]&1&&r&&we(),t.$$.dirty[0]&32768&&l&&(F(),we())},[r,i,o,_,w,y,g,k,b,p,z,F,R,D,ot,l,s,f,a,v,u,lt,st]}class Ot extends he{constructor(e){super(),me(this,e,Dt,Ht,ee,{image:2,crop:1,zoom:0,aspect:15,minZoom:16,maxZoom:17,cropSize:18,cropShape:3,showGrid:4,zoomSpeed:19,crossOrigin:5,restrictPosition:20,tabindex:6},null,[-1,-1])}}function Ut(t){let e,n,o;return{c(){e=h("div"),c(e,"class","banner-overlay svelte-1d7l8q2"),N(e,"top",t[0]+"%"),N(e,"height",t[1]+"%"),N(e,"opacity",t[2]),N(e,"background-image","url('"+t[3]+"')")},m(i,r){L(i,e,r),n||(o=O(e,"mousedown",t[4]),n=!0)},p(i,[r]){r&1&&N(e,"top",i[0]+"%"),r&2&&N(e,"height",i[1]+"%"),r&4&&N(e,"opacity",i[2]),r&8&&N(e,"background-image","url('"+i[3]+"')")},i:U,o:U,d(i){i&&A(e),n=!1,o()}}}function jt(t,e,n){let{position:o=0}=e,{bannerHeight:i=20}=e,{opacity:r=.8}=e,{bannerUrl:l="/assets/banner.png"}=e;const s=Ce();let f=!1,a=0,_=0;function w(u){f=!0,a=u.clientY,_=o,window.addEventListener("mousemove",v),window.addEventListener("mouseup",y)}function v(u){if(!f)return;const E=(u.clientY-a)/300*100;n(0,o=Math.min(Math.max(_+E,0),100-i)),s("positionChange",o)}function y(){f=!1,window.removeEventListener("mousemove",v),window.removeEventListener("mouseup",y)}return t.$$set=u=>{"position"in u&&n(0,o=u.position),"bannerHeight"in u&&n(1,i=u.bannerHeight),"opacity"in u&&n(2,r=u.opacity),"bannerUrl"in u&&n(3,l=u.bannerUrl)},[o,i,r,l,w]}class qt extends he{constructor(e){super(),me(this,e,jt,Ut,ee,{position:0,bannerHeight:1,opacity:2,bannerUrl:3})}}const le=[];function St(t,e=U){let n;const o=new Set;function i(s){if(ee(t,s)&&(t=s,n)){const f=!le.length;for(const a of o)a[1](),le.push(a,t);if(f){for(let a=0;a<le.length;a+=2)le[a][0](le[a+1]);le.length=0}}}function r(s){i(s(t))}function l(s,f=U){const a=[s,f];return o.add(a),o.size===1&&(n=e(i)||U),s(t),()=>{o.delete(a),o.size===0&&n&&(n(),n=null)}}return{set:i,update:r,subscribe:l}}const Tt=St({cropArea:{x:0,y:0,width:100,height:100},bannerOpacity:.8,bannerPosition:50});function Bt(t){let e,n,o;return{c(){e=h("h3"),e.textContent="Adjust banner",n=M(),o=h("p"),o.textContent="Just click and drag to place it where you like and change the opacity with the slider",c(e,"class","font-bold text-lg mb-4"),c(o,"class","font-normal text-xs")},m(i,r){L(i,e,r),L(i,n,r),L(i,o,r)},d(i){i&&A(e),i&&A(n),i&&A(o)}}}function Nt(t){let e,n,o;return{c(){e=h("h3"),e.textContent="Crop your photo",n=M(),o=h("p"),o.textContent="Just scroll or adjust slider to zoom, click and drag to move",c(e,"class","font-bold text-lg mb-4"),c(o,"class","font-normal text-xs")},m(i,r){L(i,e,r),L(i,n,r),L(i,o,r)},d(i){i&&A(e),i&&A(n),i&&A(o)}}}function Wt(t){let e,n,o,i,r,l,s,f,a,_,w,v,y,u=Math.round(t[1])+"",g,b,E,p,I,k,T,P,Z,W,B,G,X,C;function z(x){t[17](x)}function j(x){t[18](x)}let F={bannerHeight:et};t[8]!==void 0&&(F.position=t[8]),t[9]!==void 0&&(F.opacity=t[9]),r=new qt({props:F}),oe.push(()=>Ne(r,"position",z)),oe.push(()=>Ne(r,"opacity",j));function J(x,D){return x[7]?Rt:Yt}let q=J(t),R=q(t);return{c(){e=h("div"),n=h("img"),i=M(),be(r.$$.fragment),f=M(),a=h("div"),_=h("label"),w=h("span"),w.textContent="Banner Opacity",v=M(),y=h("span"),g=K(u),b=K("%"),E=M(),p=h("input"),I=M(),k=h("div"),T=h("button"),T.textContent="Cancel",P=M(),Z=h("button"),Z.textContent="Back",W=M(),B=h("button"),R.c(),ue(n.src,o=t[5])||c(n,"src",o),c(n,"alt","Cropped Image"),c(n,"class","cropped-image svelte-1dxx896"),c(e,"class","cropped-image-container flex flex-col items-center svelte-1dxx896"),c(w,"class","label-text"),c(y,"class","label-text-alt"),c(_,"class","label"),c(p,"type","range"),c(p,"min","0"),c(p,"max","100"),c(p,"class","range range-primary"),c(a,"class","form-control mt-4"),c(T,"class","btn btn-error"),c(Z,"class","btn btn-secondary"),c(B,"class","btn btn-primary"),B.disabled=t[7],c(k,"class","modal-action")},m(x,D){L(x,e,D),m(e,n),m(e,i),fe(r,e,null),L(x,f,D),L(x,a,D),m(a,_),m(_,w),m(_,v),m(_,y),m(y,g),m(y,b),m(a,E),m(a,p),xe(p,t[1]),L(x,I,D),L(x,k,D),m(k,T),m(k,P),m(k,Z),m(k,W),m(k,B),R.m(B,null),G=!0,X||(C=[O(p,"change",t[19]),O(p,"input",t[19]),O(T,"click",t[13]),O(Z,"click",t[20]),O(B,"click",t[12])],X=!0)},p(x,D){(!G||D&32&&!ue(n.src,o=x[5]))&&c(n,"src",o);const ie={};!l&&D&256&&(l=!0,ie.position=x[8],Be(()=>l=!1)),!s&&D&512&&(s=!0,ie.opacity=x[9],Be(()=>s=!1)),r.$set(ie),(!G||D&2)&&u!==(u=Math.round(x[1])+"")&&ke(g,u),D&2&&xe(p,x[1]),q!==(q=J(x))&&(R.d(1),R=q(x),R&&(R.c(),R.m(B,null))),(!G||D&128)&&(B.disabled=x[7])},i(x){G||(Y(r.$$.fragment,x),G=!0)},o(x){V(r.$$.fragment,x),G=!1},d(x){x&&A(e),de(r),x&&A(f),x&&A(a),x&&A(I),x&&A(k),R.d(),X=!1,Q(C)}}}function Ft(t){let e,n,o,i,r,l,s,f,a=Math.round(t[3]*100)+"",_,w,v,y,u,g,b,E,p,I,k,T;return n=new Ot({props:{crop:t[4],image:t[0],zoom:t[3],aspect:1,cropSize:{width:300,height:300}}}),n.$on("cropchange",t[14]),n.$on("zoomchange",t[15]),n.$on("cropcomplete",t[10]),{c(){e=h("div"),be(n.$$.fragment),o=M(),i=h("div"),r=h("label"),l=h("span"),l.textContent="Zoom",s=M(),f=h("span"),_=K(a),w=K("%"),v=M(),y=h("input"),u=M(),g=h("div"),b=h("button"),b.textContent="Cancel",E=M(),p=h("button"),p.textContent="Next: Add Banner",c(e,"class","cropper-container svelte-1dxx896"),c(l,"class","label-text"),c(f,"class","label-text-alt"),c(r,"class","label"),c(y,"type","range"),c(y,"min","1"),c(y,"max","3"),c(y,"step","0.1"),c(y,"class","range range-primary"),c(i,"class","form-control mt-4"),c(b,"class","btn btn-error"),c(p,"class","btn btn-primary"),c(g,"class","flex justify-center gap-1 mt-1 modal-action")},m(P,Z){L(P,e,Z),fe(n,e,null),L(P,o,Z),L(P,i,Z),m(i,r),m(r,l),m(r,s),m(r,f),m(f,_),m(f,w),m(i,v),m(i,y),xe(y,t[3]),L(P,u,Z),L(P,g,Z),m(g,b),m(g,E),m(g,p),I=!0,k||(T=[O(y,"change",t[16]),O(y,"input",t[16]),O(b,"click",t[13]),O(p,"click",t[11])],k=!0)},p(P,Z){const W={};Z&16&&(W.crop=P[4]),Z&1&&(W.image=P[0]),Z&8&&(W.zoom=P[3]),n.$set(W),(!I||Z&8)&&a!==(a=Math.round(P[3]*100)+"")&&ke(_,a),Z&8&&xe(y,P[3])},i(P){I||(Y(n.$$.fragment,P),I=!0)},o(P){V(n.$$.fragment,P),I=!1},d(P){P&&A(e),de(n),P&&A(o),P&&A(i),P&&A(u),P&&A(g),k=!1,Q(T)}}}function Yt(t){let e;return{c(){e=K("I'm done!")},m(n,o){L(n,e,o)},d(n){n&&A(e)}}}function Rt(t){let e,n;return{c(){e=h("span"),n=K(`
                            Processing...`),c(e,"class","loading loading-spinner")},m(o,i){L(o,e,i),L(o,n,i)},d(o){o&&A(e),o&&A(n)}}}function Gt(t){let e,n,o,i,r,l,s;function f(u,g){if(u[2]===1)return Nt;if(u[2]===2)return Bt}let a=f(t),_=a&&a(t);const w=[Ft,Wt],v=[];function y(u,g){return u[2]===1?0:u[2]===2?1:-1}return~(r=y(t))&&(l=v[r]=w[r](t)),{c(){e=h("div"),n=h("div"),_&&_.c(),o=M(),i=h("div"),l&&l.c(),c(i,"class","flex flex-col items-center max-w-xl"),c(n,"class","flex flex-col items-center modal-box max-w-xl"),c(e,"class","modal modal-open"),ae(e,"modal-open",t[6])},m(u,g){L(u,e,g),m(e,n),_&&_.m(n,null),m(n,o),m(n,i),~r&&v[r].m(i,null),s=!0},p(u,[g]){a!==(a=f(u))&&(_&&_.d(1),_=a&&a(u),_&&(_.c(),_.m(n,o)));let b=r;r=y(u),r===b?~r&&v[r].p(u,g):(l&&(De(),V(v[b],1,1,()=>{v[b]=null}),Oe()),~r?(l=v[r],l?l.p(u,g):(l=v[r]=w[r](u),l.c()),Y(l,1),l.m(i,null)):l=null),(!s||g&64)&&ae(e,"modal-open",u[6])},i(u){s||(Y(l),s=!0)},o(u){V(l),s=!1},d(u){u&&A(e),_&&_.d(),~r&&v[r].d()}}}let et=20,Vt="./banner.png";function Xt(t,e,n){let o,i;ft(t,Tt,C=>n(23,i=C));let{previewUrl:r}=e;const l=Ce();let s=1,f=1,a,_=null,w=null,v=!1,y=!1,u=i.bannerPosition,g=null,b=i.bannerOpacity*100;function E(C){w=C.detail.pixels}async function p(){w||(console.warn("Cropped area is not defined. Triggering onCropComplete manually."),E({detail:{pixels:{x:0,y:0,width:100,height:100}}}));try{const C=document.createElement("canvas"),z=new Image;z.src=r,await new Promise(F=>z.onload=F);const j=C.getContext("2d");C.width=w.width,C.height=w.height,j.drawImage(z,w.x,w.y,w.width,w.height,0,0,C.width,C.height),n(5,_=C.toDataURL("image/jpeg")),n(2,s=2)}catch(C){console.error("Error generating cropped image:",C)}}async function I(){if(!w){console.error("Cropped area is not defined.");return}n(7,y=!0);try{const j=document.createElement("canvas"),F=j.getContext("2d");j.width=800,j.height=800;const J=new Image;J.src=_,await new Promise(D=>J.onload=D),F.drawImage(J,0,0,j.width,j.height);const q=new Image;q.src=Vt,await new Promise(D=>q.onload=D);const R=et/100*j.height,x=u/100*j.height;F.globalAlpha=o,F.drawImage(q,0,x,j.width,R),g=j.toDataURL("image/jpeg"),l("imageProcessed",{mergedImage:g}),k()}catch(C){console.error("Error processing image:",C)}finally{n(7,y=!1)}}function k(){n(6,v=!1),l("close")}const T=C=>n(4,a=C),P=C=>n(3,f=C);function Z(){f=Te(this.value),n(3,f)}function W(C){u=C,n(8,u)}function B(C){o=C,n(9,o),n(1,b)}function G(){b=Te(this.value),n(1,b)}const X=()=>n(2,s=1);return t.$$set=C=>{"previewUrl"in C&&n(0,r=C.previewUrl)},t.$$.update=()=>{t.$$.dirty&2&&n(9,o=b/100),t.$$.dirty&1&&r&&n(6,v=!0)},[r,b,s,f,a,_,v,y,u,o,E,p,I,k,T,P,Z,W,B,G,X]}class Jt extends he{constructor(e){super(),me(this,e,Xt,Gt,ee,{previewUrl:0})}}function Ve(t){let e,n;return e=new At({}),e.$on("fileSelected",t[6]),e.$on("error",t[7]),{c(){be(e.$$.fragment)},m(o,i){fe(e,o,i),n=!0},p:U,i(o){n||(Y(e.$$.fragment,o),n=!0)},o(o){V(e.$$.fragment,o),n=!1},d(o){de(e,o)}}}function Xe(t){let e,n;return e=new Jt({props:{previewUrl:t[1]}}),e.$on("error",t[7]),e.$on("imageProcessed",t[8]),{c(){be(e.$$.fragment)},m(o,i){fe(e,o,i),n=!0},p(o,i){const r={};i&2&&(r.previewUrl=o[1]),e.$set(r)},i(o){n||(Y(e.$$.fragment,o),n=!0)},o(o){V(e.$$.fragment,o),n=!1},d(o){de(e,o)}}}function Je(t){let e,n,o,i,r,l,s;return{c(){e=h("div"),n=h("div"),o=Se("svg"),i=Se("path"),r=M(),l=h("span"),s=K(t[2]),c(i,"stroke-linecap","round"),c(i,"stroke-linejoin","round"),c(i,"stroke-width","2"),c(i,"d","M10 14l2-2m0 0l2-2m-2 2l-2-2m2 2l2 2m7-2a9 9 0 11-18 0 9 9 0 0118 0z"),c(o,"xmlns","http://www.w3.org/2000/svg"),c(o,"class","stroke-current flex-shrink-0 h-6 w-6"),c(o,"fill","none"),c(o,"viewBox","0 0 24 24"),c(e,"class","alert alert-error shadow-lg mt-4")},m(f,a){L(f,e,a),m(e,n),m(n,o),m(o,i),m(n,r),m(n,l),m(l,s)},p(f,a){a&4&&ke(s,f[2])},d(f){f&&A(e)}}}function ze(t){let e,n,o,i,r,l,s,f,a,_,w,v,y,u;return{c(){e=h("div"),n=h("h3"),n.textContent="Done!",o=M(),i=h("img"),l=M(),s=h("div"),f=h("button"),f.textContent="Download Image",a=M(),_=h("button"),_.textContent="Edit some more",w=M(),v=h("button"),v.textContent="Reset",c(n,"class","font-bold text-lg mb-4"),ue(i.src,r=t[3])||c(i,"src",r),c(i,"alt","Merged Image"),c(i,"class","merged-image svelte-117w4b0"),c(f,"class","btn btn-primary"),c(_,"class","btn btn-error"),c(v,"class","btn btn-secondary"),c(s,"class","flex flex-col gap-4 w-full max-w-xs mt-4"),c(e,"class","flex flex-col items-center merged-image-container svelte-117w4b0")},m(g,b){L(g,e,b),m(e,n),m(e,o),m(e,i),m(e,l),m(e,s),m(s,f),m(s,a),m(s,_),m(s,w),m(s,v),y||(u=[O(f,"click",t[9]),O(_,"click",t[10]),O(v,"click",t[0])],y=!0)},p(g,b){b&8&&!ue(i.src,r=g[3])&&c(i,"src",r)},d(g){g&&A(e),y=!1,Q(u)}}}function zt(t){let e,n,o,i,r,l,s,f,a=t[5],_,w,v,y;o=new Ct({props:{title:"Signal Banner App"}});let u=Ve(t),g=t[4]&&t[1]&&Xe(t),b=t[2]&&Je(t),E=t[3]&&ze(t);return{c(){e=h("main"),n=h("div"),be(o.$$.fragment),i=M(),r=h("div"),l=h("div"),s=h("h2"),s.textContent="Upload photo:",f=M(),u.c(),_=M(),g&&g.c(),w=M(),b&&b.c(),v=M(),E&&E.c(),c(s,"class","card-title"),c(l,"class","flex flex-col justify-center card-body"),c(r,"class","card bg-base-100 shadow-xl w-full"),c(n,"class","w-full"),c(e,"class","flex flex-col items-center w-full mx-auto max-w-xl px-4 py-8")},m(p,I){L(p,e,I),m(e,n),fe(o,n,null),m(n,i),m(n,r),m(r,l),m(l,s),m(l,f),u.m(l,null),m(l,_),g&&g.m(l,null),m(l,w),b&&b.m(l,null),m(l,v),E&&E.m(l,null),y=!0},p(p,[I]){I&32&&ee(a,a=p[5])?(De(),V(u,1,1,U),Oe(),u=Ve(p),u.c(),Y(u,1),u.m(l,_)):u.p(p,I),p[4]&&p[1]?g?(g.p(p,I),I&18&&Y(g,1)):(g=Xe(p),g.c(),Y(g,1),g.m(l,w)):g&&(De(),V(g,1,1,()=>{g=null}),Oe()),p[2]?b?b.p(p,I):(b=Je(p),b.c(),b.m(l,v)):b&&(b.d(1),b=null),p[3]?E?E.p(p,I):(E=ze(p),E.c(),E.m(l,null)):E&&(E.d(1),E=null)},i(p){y||(Y(o.$$.fragment,p),Y(u),Y(g),y=!0)},o(p){V(o.$$.fragment,p),V(u),V(g),y=!1},d(p){p&&A(e),de(o),u.d(p),g&&g.d(),b&&b.d(),E&&E.d()}}}function Kt(t,e,n){let o="",i="",r=null,l=!1,s={};function f(u){u.detail.file,n(1,o=u.detail.previewUrl),n(2,i=""),n(4,l=!0)}function a(u){n(2,i=u.detail)}function _(u){n(3,r=u.detail.mergedImage),n(4,l=!1)}function w(){const u=document.createElement("a");u.href=r,u.download="profile_with_banner.jpg",u.click()}function v(){n(4,l=!0)}function y(){n(5,s={}),n(1,o=""),n(2,i=""),n(3,r=null),n(4,l=!1)}return[y,o,i,r,l,s,f,a,_,w,v]}class Qt extends he{constructor(e){super(),me(this,e,Kt,zt,ee,{resetApp:0})}get resetApp(){return this.$$.ctx[0]}}new Qt({target:document.body,props:{name:"world"}});
